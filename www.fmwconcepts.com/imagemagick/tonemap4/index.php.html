<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>Fred's ImageMagick Scripts: TONEMAP4</title>
<meta name="author" content="Fred Weinhaus">
<meta name="description" content="Fred's ImageMagick Scripts - tonemap4 - enhances the shadows and/or highlight regions in an image using a dual gamma function plus an extra processing function.">
<meta name="keywords" content="ImageMagick, scripts, image processing, tonemap, tone mapping, enhancement, brightness, contrast, log, dual gamma, shadows, highlights">
<link rel="stylesheet" href="../style.css">
</head>
<body marginwidth=0 marginheight=0 id="tonemap4">

<div class="blue">
<br />
<h2 align="center" class="white"><img src="../images/im_logo_small_sharp.gif" border=2 width="120" height="90" hspace="20" vspace="0" border="0" align="absmiddle" class="red">Fred's ImageMagick Scripts</h2>
<br />
<br />
</div>

<ul id="nav">
	<li id="t_homepage"><a href="../index.php.html">Home Page</a></li>
	<li id="t_2colorthresh"><a href="../2colorthresh/index.php.html">2colorthresh
		<span>Automatically thresholds an image to binary (b/w) format using
		an adaptive spatial subdivision color reduction technique</span></a></li>
	<li id="t_3Dbox"><a href="../3Dbox/index.php.html">3Dbox
		<span>Generates a perspective view of a 3D box at any orientation with 
		pictures pasted on each of its sides</span></a></li>
	<li id="t_3Dcover"><a href="../3Dcover/index.php.html">3Dcover
		<span>Wraps an image around the front and left or right side of box viewed 
		in rotated perspective</span></a></li>
	<li id="t_3Dreflection"><a href="../3Dreflection/index.php.html">3Dreflection
		<span>Adds a fading reflection below an image and views it in perspective</span></a></li>
	<li id="t_3Drotate"><a href="../3Drotate/index.php.html">3Drotate
		<span>Applies a perspective distortion to an image by providing three 
		rotation angles, zoom, offsets, background color, perspective exaggeration 
		and auto zoom/centering</span></a></li>
	<li id="t_3Dtext"><a href="../3Dtext/index.php.html">3Dtext
		<span>Converts text into an image with a 3D extrusion effect</span></a></li>
	<li id="t_accentedges"><a href="../accentedges/index.php.html">accentedges
		<span>Applies accented edges to an image</span></a></li>
	<li id="t_adaptivegamma"><a href="../adaptivegamma/index.php.html">adaptivegamma
		<span>Enhances the contrast/brightness in an image using a locally adaptive gamma method</span></a></li>
	<li id="t_adaptivegamma2"><a href="../adaptivegamma2/index.php.html">adaptivegamma2
		<span>Enhances the contrast/brightness in an image using an adaptive gamma method</span></a></li>
	<li id="t_anglegradient"><a href="../anglegradient/index.php.html">anglegradient
		<span>Creates a gradient effect at a specific orientation angle</span></a></li>
	<li id="t_aspect"><a href="../aspect/index.php.html">aspect
		<span>Resizes an image to a specific size allowing either cropping or 
		padding to deal with the aspect ratio change</span></a></li>
	<li id="t_aspectcrop"><a href="../aspectcrop/index.php.html">aspectcrop
		<span>Crops an image to a specified aspect ratio</span></a></li>
	<li id="t_aspectpad"><a href="../aspectpad/index.php.html">aspectpad
		<span>Pads an image with a color to a specified aspect ratio 
		and orientation</span></a></li>
	<li id="t_autocaption"><a href="../autocaption/index.php.html">autocaption
		<span>Places text automatically in a specified square size region that has 
		the least color variation</span></a></li>
	<li id="t_autocolor"><a href="../autocolor/index.php.html">autocolor
		<span>Automatically color balances an image</span></a></li>
	<li id="t_autogamma"><a href="../autogamma/index.php.html">autogamma
		<span>Modifies an image to automatically apply a gamma correction</span></a></li>
	<li id="t_autolevel"><a href="../autolabel/index.php.html">autolabel
		<span>Places text automatically in a specified size region that best matches a 
		reference color</span></a></li>
	<li id="t_autolevel"><a href="../autolevel/index.php.html">autolevel
		<span>Modifies an image to automatically stretch the dynamic range between 
		full black and white and automatically apply a gamma correction</span></a></li>
	<li id="t_autotone"><a href="../autotone/index.php.html">autotone
		<span>Automatically tone balances an image</span></a></li>
	<li id="t_autotone2"><a href="../autotone2/index.php.html">autotone2
		<span>Automatically tone balances an image</span></a></li>
	<li id="t_autotrim"><a href="../autotrim/index.php.html">autotrim
		<span>Automatically trims the background border around a normally oriented or 
		rotated image</span></a></li>
	<li id="t_autowhite"><a href="../autowhite/index.php.html">autowhite
		<span>Automatically adjusts the white balance of an image</span></a></li>
	<li id="t_balance"><a href="../balance/index.php.html">balance
		<span>Transforms the image to enhance the shadows, midtones and highlight 
		regions of the image</span></a></li>
	<li id="t_bcimage"><a href="../bcimage/index.php.html">bcimage
		<span>Changes the brightness, contrast and/or saturation of 
		an image</span></a></li>
	<li id="t_bcmatch"><a href="../bcmatch/index.php.html">bcmatch
		<span>Modifies one image to try to match its brightness, contrast 
		and optionally saturation to that of another image</span></a></li>
	<li id="t_bevel"><a href="../bevel/index.php.html">bevel
		<span>Applies an inner bevel or outer bevel or emboss effect 
		to an image</span></a></li>
	<li id="t_bevelborder"><a href="../bevelborder/index.php.html">bevelborder
		<span>Applies a bevel effect to border of an image</span></a></li>
	<li id="t_bilinearwarp"><a href="../bilinearwarp/index.php.html">bilinearwarp
		<span>bilinearwarp --- Generates a proper four-point bilinear warp of the 
		input image</span></a></li>
	<li id="t_binomial"><a href="../binomial/index.php.html">binomial
		<span>Generates high pass or low pass filtered images based upon convolution 
		kernels whose weights are derived from the binomial coefficients</span></a></li>
	<li id="t_binomialedge"><a href="../binomialedge/index.php.html">binomialedge
		<span>Sharpens (or blurs) an image near edges using a Binomial 
		shaped filter.</span></a></li>
	<li id="t_bokeh"><a href="../bokeh/index.php.html">bokeh
		<span>Applies a bokeh blurring effect to an image.</span></a></li>
	<li id="t_bordereffects"><a href="../bordereffects/index.php.html">bordereffects
		<span>Creates various dispersion-like effects in the border of 
		an image</span></a></li>
	<li id="t_bordergrid"><a href="../bordergrid/index.php.html">bordergrid
		<span>Creates various grid effects in the border of an image</span></a></li>
	<li id="t_bubblewarp"><a href="../bubblewarp/index.php.html">bubblewarp
		<span>Applies or reverses a warp of an image onto a bubble</span></a></li>
	<li id="t_bump"><a href="../bump/index.php.html">bump
		<span>Applies a hemispherical-like bump distortion to 
		an image</span></a></li>
	<li id="t_bumptext"><a href="../bumptext/index.php.html">bumptext
		<span>Applies a raised text effect onto an image.</span></a></li>
	<li id="t_camerablur"><a href="../camerablur/index.php.html">camerablur
		<span>Blurs an image in the frequency domain using an ideal blurring filter for 
		either motion blur or lens defocus</span></a></li>
	<li id="t_cameradeblur"><a href="../cameradeblur/index.php.html">cameradeblur
		<span>Deblurs an image in the frequency domain using an ideal deblurring filter 
		for either motion blur or lens defocus</span></a></li>
	<li id="t_captcha"><a href="../captcha/index.php.html">captcha
		<span>Creates a six-alphanumeric-character image for use as a challenge 
		response test</span></a></li>
	<li id="t_cartoon"><a href="../cartoon/index.php.html">cartoon
		<span>Creates a cartoon-like appearance to an image</span></a></li>
	<li id="t_centertrim"><a href="../centertrim/index.php.html">centertrim
		<span>Trims an image so as to preserve the image center</span></a></li>
	<li id="t_cepstrum"><a href="../cepstrum/index.php.html">cepstrum
		<span>Creates the cepstrum to depict the type, amount and orientation 
		of camera type blurring in an image</span></a></li>
	<li id="t_chrome"><a href="../chrome/index.php.html">chrome
		<span>Applies a chrome effect to a binary image</span></a></li>
	<li id="t_clip"><a href="../clip/index.php.html">clip
		<span>Stretches the channels of an image to full black and white 
		according to a clip amount on each end of the histogram</span></a></li>
	<li id="t_collage"><a href="../collage/index.php.html">collage
		<span>Creates a multi-variant collage of the input image</a></li>
	<li id="t_color2alpha"><a href="../color2alpha/index.php.html">color2alpha
		<span>Creates a ramped alpha channel from the input image according to the specified color.</span></a></li>
	<li id="t_color2gray"><a href="../color2gray/index.php.html">color2gray
		<span>Mixes the color channels from an image into a single grayscale image 
		using a weighted combination</span></a></li>
	<li id="t_coloration"><a href="../coloration/index.php.html">coloration
		<span>Mixes the color channels from an image into a grayscale image 
		and then tints it</span></a></li>
	<li id="t_colorbalance"><a href="../colorbalance/index.php.html">colorbalance
		<span>Manually color balances an image</span></a></li>
	<li id="t_colorbalance2"><a href="../colorbalance2/index.php.html">colorbalance2
		<span>Manually color balances an image</span></a></li>
	<li id="t_colorboost"><a href="../colorboost/index.php.html">colorboost
		<span>Enhances the color in an under saturated image</span></a></li>
	<li id="t_colorcells"><a href="../colorcells/index.php.html">colorcells
		<span>Randomly modifies the color of rectangular cells of an image</span></a></li>
	<li id="t_colorconverter"><a href="../colorconverter/index.php.html">colorconverter
		<span>To convert any valid ImageMagick color specification to the other 
		ImageMagick color representations</span></a></li>
	<li id="t_colorcoords"><a href="../colorcoords/index.php.html">colorcoords
		<span>Locates in the image the first location and/or last location for the closest 
		pixel within the fuzz value to the color specified</span></a></li>
	<li id="t_colorfilter"><a href="../colorfilter/index.php.html">colorfilter
		<span>Applies a photographic color filter to an image</span></a></li>
	<li id="t_colorfulness"><a href="../colorfulness/index.php.html">colorfulness
		<span>Computes a metric that represents the colorfulness of an image</span></a></li>
	<li id="t_colorglow"><a href="../colorglow/index.php.html">colorglow
		<span>Applies a color glow effect to an image</span></a></li>
	<li id="t_colorspectrum"><a href="../colorspectrum/index.php.html">colorspectrum
		<span>Generates a spectrum-like image from the colors in an image</span></a></li>
	<li id="t_colortemp"><a href="../colortemp/index.php.html">colortemp
		<span>Transforms an image's overall color balance according to a desired color 
		temperature change</span></a></li>
	<li id="t_colortoning"><a href="../colortoning/index.php.html">colortoning
		<span>Color tones an image in highlights and/or shadows and/or overall</span></a></li>
	<li id="t_cone"><a href="../cone/index.php.html">cone
		<span>Draws a cone-shaped object on an image</span></a></li>
	<li id="t_conformal"><a href="../conformal/index.php.html">conformal
		<span>Applies a conformal mapping to an image</span></a></li>
	<li id="t_contour"><a href="../contour/index.php.html">contour
		<span>Applies a contour outline to the image content</span></a></li>
	<li id="t_corners"><a href="../corners/index.php.html">corners
		<span>Detects corner structures in an image</span></a></li>
	<li id="t_cosinebell"><a href="../cosinebell/index.php.html">cosinebell
		<span>Creates a cosine-bell-shaped tapered alpha channel in an image and optionally 
		blends the image into a background image.</span></a></li>
	<li id="t_crosshatch"><a href="../crosshatch/index.php.html">crosshatch
		<span>Applies a crosshatch effect to an image</span></a></li>
	<li id="t_crossprocess"><a href="../crossprocess/index.php.html">crossprocess
		<span>Applies a color crossprocessing effect to an image</span></a></li>
	<li id="t_crystallize"><a href="../crystallize/index.php.html">crystallize
		<span>Creates random crystal-like regions in an image</span></a></li>
	<li id="t_cube2sphericalpano"><a href="../cube2sphericalpano/index.php.html">cube2sphericalpano
		<span>Transforms 6 cube face images into a spherical panorama image</span></a></li>
	<li id="t_cumhist"><a href="../cumhist/index.php.html">cumhist
		<span>Creates the combined grayscale cumulative histogram of 
		one or more images</span></a></li>
	<li id="t_curves"><a href="../curves/index.php.html">curves
		<span>Generate a smoothly interpolated, curved mapping look up table from a 
		set of break points and applies it to an image</span></a></li>
	<li id="t_cylinderize"><a href="../cylinderize/index.php.html">cylinderize
		<span>Applies a cylinder distortion to an image so that the image is wrapped 
		about the cylinder</span></a></li>
	<li id="t_cylinderwarp"><a href="../cylinderwarp/index.php.html">cylinderwarp
		<span>Applies a cylinder distortion to an image using a displacement map and 
		arguments provided by the script cylinderize</span></a></li>
	<li id="t_davehilleffect"><a href="../davehilleffect/index.php.html">davehilleffect
		<span>Applies a DaveHill-like effect to an image</span></a></li>
	<li id="t_defisheye"><a href="../defisheye/index.php.html">defisheye
		<span>Corrects for fisheye distortion in an image</span></a></li>
	<li id="t_denoise"><a href="../denoise/index.php.html">denoise
		<span>Reduces the noise in an image</span></a></li>
	<li id="t_derivative"><a href="../derivative/index.php.html">derivative
		<span>Applies a first directional derivative filter to an image</span></a></li>
	<li id="t_diagcollage"><a href="../diagcollage/index.php.html">diagcollage
		<span>Collages three images in a diagonal orientation</span></a></li>
	<li id="t_dice"><a href="../dice/index.php.html">dice
		<span>Randomly rotates each successive square-sized patch 
		in the image</span></a></li>
	<li id="t_disperse"><a href="../disperse/index.php.html">disperse
		<span>Applies a dispersion effect to an image</span></a></li>
	<li id="t_dog"><a href="../dog/index.php.html">dog
		<span>Create an edge extracted image using the difference of 
		two Gaussian blurs</span></a></li>
	<li id="t_dominantcolor"><a href="../dominantcolor/index.php.html">dominantcolor
		<span>Finds the dominant color in an image</span></a></li>
	<li id="t_dotproductcorr"><a href="../dotproductcorr/index.php.html">dotproductcorr
		<span>Computes the dot product correlation surface to find where a small image best matches 
		within a larger image</span></a></li>
	<li id="t_downsize"><a href="../downsize/index.php.html">downsize
		<span>Downsizes (reduces) an image to a specified file size</span></a></li>
	<li id="t_draganeffect"><a href="../draganeffect/index.php.html">draganeffect
		<span>Applies a Dragan-like effect to an image to enhance wrinkles 
		creating a 'gritty' effect</span></a></li>
	<li id="t_dualtonemap"><a href="../dualtonemap/index.php.html">dualtonemap
		<span>Enhances the shadows and/or highlight regions in an image</span></a></li>
	<li id="t_duotonemap"><a href="../duotonemap/index.php.html">duotonemap
		<span>Enhances the shadows and/or highlight regions in an image</span></a></li>
	<li id="t_edgefx"><a href="../edgefx/index.php.html">edgefx
		<span>Extracts the edges in an image and optionally composes them 
		with the image to create interesting effects</span></a></li>
	<li id="t_edges"><a href="../edges/index.php.html">edges
		<span>Applies edge extraction to image</span></a></li>
	<li id="t_emboss"><a href="../emboss/index.php.html">emboss
		<span>Applies an emboss effect to an image</span></a></li>
	<li id="t_embroidery"><a href="../embroidery/index.php.html">embroidery
		<span>Applies an embroidery effect to each color in an image</span></a></li>
	<li id="t_endpoints"><a href="../endpoints/index.php.html">endpoints
		<span>Applies a Photoshop-like curves operation on an image that only adjusts 
		the linear endpoints</span></a></li>
	<li id="t_enhancelab"><a href="../enhancelab/index.php.html">enhancelab
		<span>Applies brightness/contrast/colorization enhancement on an image via 
		LAB colorspace</span></a></li>
	<li id="t_enrich"><a href="../enrich/index.php.html">enrich
		<span>Enhances an image by high pass filtering and composition</span></a></li>
	<li id="t_entropy"><a href="../entropy/index.php.html">entropy
		<span>Computes the normalized entropy of an image channel-by-channel</span></a></li>
	<li id="t_exposure"><a href="../exposure/index.php.html">exposure
		<span>Changes the exposure level of an image</span></a></li>
	<li id="t_feather"><a href="../feather/index.php.html">feather
		<span>Feathers (smoothes) the white-to-black transition in a 
		binary mask image</span></a></li>
	<li id="t_fftconvol"><a href="../fftconvol/index.php.html">fftconvol
		<span>Performs convolution on an image in the frequency domain</span></a></li>
	<li id="t_fftdeconvol"><a href="../fftdeconvol/index.php.html">fftdeconvol
		<span>Performs deconvolution on an image in the frequency domain</span></a></li>
	<li id="t_fftfilter"><a href="../fftfilter/index.php.html">fftfilter
		<span>Performs filtering on an image in the frequency domain</span></a></li>
	<li id="t_filmgrain"><a href="../filmgrain/index.php.html">filmgrain
		<span>Applies film grain noise to an image</span></a></li>
	<li id="t_fisheye"><a href="../fisheye/index.php.html">fisheye
		<span>Applies a fisheye distortion to an image</span></a></li>
	<li id="t_fisheye2pano"><a href="../fisheye2pano/index.php.html">fisheye2pano
		<span>Generates a strip panoramic image from a linear type fisheye image 
		with optional vertical perspective correction</span></a></li>
	<li id="t_fisheye2rect"><a href="../fisheye2rect/index.php.html">fisheye2rect
		<span>Generates a perspective (rectilinear) image from a region of a vertically 
		viewed fisheye image</span></a></li>
	<li id="t_flicker"><a href="../flicker/index.php.html">flicker
		<span>Displays and optionally save an animation of the input images</span></a></li>
	<li id="t_flickerchannel"><a href="../flickerchannel/index.php.html">flickerchannel
		<span>Displays and optionally save an animation of the channels in 
		an image</span></a></li>
	<li id="t_frosted"><a href="../frosted/index.php.html">frosted
		<span>Applies a frosted glass effect to an image</span></a></li>
	<li id="t_furrowed"><a href="../furrowed/index.php.html">furrowed
		<span>Applies a furrowed-looking effect to an image to enhance wrinkles 
		creating a "gritty" look</span></a></li>
	<li id="t_fuzzythresh"><a href="../fuzzythresh/index.php.html">fuzzythresh
		<span>Automatically thresholds an image to binary (b/w) format using the 
		fuzzy c-means technique</span></a></li>
	<li id="t_fxtransitions"><a href="../fxtransitions/index.php.html">fxtransitions
		<span>Creates an animated transition between two images using a special 
		effect distortion</span></a></li>
	<li id="t_gaussian"><a href="../gaussian/index.php.html">gaussian
		<span>Generates high pass or low pass filtered images based upon a Gaussian 
		shaped convolution</span></a></li>
	<li id="t_gaussianedge"><a href="../gaussianedge/index.php.html">gaussianedge
		<span>Sharpens (or blurs) an image near edges using a Gaussian 
		shaped filter.</span></a></li>
	<li id="t_glasseffects"><a href="../glasseffects/index.php.html">glasseffects
		<span>Modifies an image so that it appears to be viewed through 
		textured and/or tiled glass</span></a></li>
	<li id="t_glow"><a href="../glow/index.php.html">glow
		<span>Creates a glowing effect in an image</span></a></li>
	<li id="t_gradient"><a href="../gradient/index.php.html">gradient
		<span>Applies a gradient filter to an image.</span></a></li>
	<li id="t_graytoning"><a href="../graytoning/index.php.html">graytoning
		<span>Mixes color channels from an image into a grayscale image and 
		optionally tints it.</span></a></li>
	<li id="t_greenscreen"><a href="../greenscreen/index.php.html">greenscreen
		<span>Removes background green color in a green screen image.</span></a></li>
	<li id="t_grid"><a href="../grid/index.php.html">grid
		<span>Superimposes a set of horizontal and/or vertical grid lines 
		on an image</span></a></li>
	<li id="t_halo"><a href="../halo/index.php.html">halo
		<span>Applies a circular halo to an image</span></a></li>
	<li id="t_hamming"><a href="../hamming/index.php.html">hamming
		<span>Computes the percent hamming distance between two binary string 
		perceptual hashes</span></a></li>
	<li id="t_hexagons"><a href="../hexagons/index.php.html">hexagons
		<span>Creates a hexagonal grid of the randomly rotated input image</span></a></li>
	<li id="t_histcompare"><a href="../histcompare/index.php.html">histcompare
		<span>Computes one of several metrics characterizing the difference between 
		the histograms of two images</span></a></li>
	<li id="t_histmatch"><a href="../histmatch/index.php.html">histmatch
		<span>Modifies one image to try to match its histogram and 
		optionally saturation to that of another image</span></a></li>
	<li id="t_histog"><a href="../histog/index.php.html">histog
		<span>Generates an output image which is composed of the histograms
		from each channel of the input image</span></a></li>
	<li id="t_houghlines"><a href="../houghlines/index.php.html">houghlines
		<span>Uses the Hough Transform technique to compute and display straight lines 
		from a binary edge image</span></a></li>
	<li id="t_huemap"><a href="../huemap/index.php.html">huemap
		<span>Transforms the hues in an image from one range to another</span></a></li>
	<li id="t_imageborder"><a href="../imageborder/index.php.html">imageborder
		<span>Appends an image border by extending the outer regions of 
		the image</span></a></li>
	<li id="t_innercrop"><a href="../innercrop/index.php.html">innercrop
		<span>Crops an image to a rectangle that will just trim any 
		irregularly shaped outer boundary color</span></a></li>
	<li id="t_interleave"><a href="../interleave/index.php.html">interleave
		<span>Interleaves the channels of a single image or each image of a set of 
		multiple images</span></a></li>
	<li id="t_interweave"><a href="../interweave/index.php.html">interweave
		<span>Interleaves two images together in swaths</span></a></li>
	<li id="t_isodatathresh"><a href="../isodatathresh/index.php.html">isodatathresh
		<span>Automatically thresholds an image to binary (b/w) format using the 
		isodata technique</span></a></li>
	<li id="t_isolatecolor"><a href="../isolatecolor/index.php.html">isolatecolor
		<span>Isolates a particular color in an image</span></a></li>
	<li id="t_isonoise"><a href="../isonoise/index.php.html">isonoise
		<span>Reduces isolated noise in an image</span></a></li>
	<li id="t_juliaset"><a href="../juliaset/index.php.html">juliaset
		<span>Creates a julia set fractal image</span></a></li>
	<li id="t_kaleidoscope"><a href="../kaleidoscope/index.php.html">kaleidoscope
		<span>Applies a kaleidoscope effect to an image</span></a></li>
	<li id="t_kaleidoscopic"><a href="../kaleidoscopic/index.php.html">kaleidoscopic
		<span>Applies a kaleidoscope effect to an image</span></a></li>
	<li id="t_kapurthresh"><a href="../kapurthresh/index.php.html">kapurthresh
		<span>Automatically thresholds an image to binary (b/w) format using 
		Kapur's entropy technique</span></a></li>
	<li id="t_kmeans"><a href="../kmeans/index.php.html">kmeans
		<span>Applies k-means color reduction to an image</span></a></li>
	<li id="t_kmeansthresh"><a href="../kmeansthresh/index.php.html">kmeansthresh
		<span>Automatically thresholds an image to binary (b/w) format using 
		the k-means technique</span></a></li>
	<li id="t_kneemap"><a href="../kneemap/index.php.html">kneemap
		<span>Creates a symmetric soft knee-shaped curved mapping look up table 
		and applies it to an image</span></a></li>
	<li id="t_kuwahara"><a href="../kuwahara/index.php.html">kuwahara
		<span>Applies a Kuwahara type edge preserving noise reduction filter 
		to an image</span></a></li>
	<li id="t_laplacian"><a href="../laplacian/index.php.html">laplacian
		<span>Applies a laplacian filter to an image</span></a></li>
<!-- 
	<li id="t_lenswarp"><a href="http://www.fmwconcepts.com/imagemagick/lenswarp/index.php">lenswarp
		<span>simulates the effect of looking at a picture through a curved lens 
		sitting with one flat side against the picture</span></a></li>
 -->
	<li id="t_levelcolors"><a href="../levelcolors/index.php.html">levelcolors
		<span>Applies a color level transformation to an image 
		channel-by-channel</span></a></li>
	<li id="t_levelcolors"><a href="../levels/index.php.html">levels
		<span>Applies a Photoshop-like levels operation on an image</span></a></li>
	<li id="t_levelcolors"><a href="../lichtenstein/index.php.html">lichtenstein
		<span>Applies a Roy Lichtenstein newspaper cartoon effect to an image</span></a></li>
	<li id="t_limitedtrim"><a href="../limitedtrim/index.php.html">limitedtrim
		<span>Trims an image on all sides by a maximum amount specified by the user</span></a></li>
	<li id="t_localthresh"><a href="../localthresh/index.php.html">localthresh
		<span>Automatically thresholds an image to binary (b/w) format using a moving 
		window adaptive thresholding approach</span></a></li>
	<li id="t_locatecolors"><a href="../locatecolors/index.php.html">locatecolors
		<span>Modifies an image showing only those pixels which are within the specified 
		color range</span></a></li>
	<li id="t_lucisarteffect"><a href="../lucisarteffect/index.php.html">lucisarteffect
		<span>Applies a LucisArt-like effect to an image</span></a></li>
	<li id="t_lupe"><a href="../lupe/index.php.html">lupe
		<span>Applies a magnifying glass effect in a local area of 
		an image</span></a></li>
	<li id="t_magicwand"><a href="../magicwand/index.php.html">magicwand
		<span>Isolates a contiguous region of an image based upon a color 
		determined from a user specified image coordinate</span></a></li>
	<li id="t_mandala"><a href="../mandala/index.php.html">mandala
		<span>Creates a Mandala type image from simple graphic figures</span></a></li>
	<li id="t_mandalascope"><a href="../mandalascope/index.php.html">mandalascope
		<span>Converts an image into a mandala-like kaleidoscope image</span></a></li>
	<li id="t_mandelbrot"><a href="../mandelbrot/index.php.html">mandelbrot
		<span>Creates a mandelbrot set fractal image</span></a></li>
	<li id="t_mapcolors"><a href="../mapcolors/index.php.html">mapcolors
		<span>Maps or translates one set of colors in an image to another 
		set of colors</span></a></li>
	<li id="t_matchimage"><a href="../matchimage/index.php.html">matchimage
		<span>Matches the brightness and contrast of one image to another image</span></a></li>
	<li id="t_maxima"><a href="../maxima/index.php.html">maxima
		<span>Locate one or more local maxima in a grayscale image</span></a></li>
	<li id="t_maxrgb"><a href="../maxrgb/index.php.html">maxrgb
		<span>Converts an RGB image to keep only the channel with the maximum 
		value at each pixel</span></a></li>
	<li id="t_median"><a href="../median/index.php.html">median
		<span>Computes the median value of an image</span></a></li>
	<li id="t_melt"><a href="../melt/index.php.html">melt
		<span>Creates a melting-like blur effect in an image</span></a></li>
	<li id="t_meshwarp"><a href="../meshwarp/index.php.html">meshwarp
		<span>Warps an image according to a user supplied triangular mesh</span></a></li>
	<li id="t_mesmerize"><a href="../mesmerize/index.php.html">mesmerize
		<span>Creates a mesmerizing animation from an image</span></a></li>
	<li id="t_midgradient"><a href="../midgradient/index.php.html">midgradient
		<span>Creates a two-color gradient with adjustable mid-color location</span></a></li>
	<li id="t_midtonebalance"><a href="../midtonebalance/index.php.html">midtonebalance
		<span>Color balances an image in the midtones in a manner similar to Photoshop</span></a></li>
	<li id="t_mirrorize"><a href="../mirrorize/index.php.html">mirrorize
		<span>Creates a mirror effect in an image</span></a></li>
	<li id="t_mode"><a href="../mode/index.php.html">mode
		<span>Computes the mode value of an image.</span></a></li>
	<li id="t_modulatecolor1"><a href="../modulatecolor1/index.php.html">modulatecolor1
		<span>Changes brightness, saturation and/or hue for any primary or secondary 
		color in an image.</span></a></li>
	<li id="t_modulatecolor2"><a href="../modulatecolor2/index.php.html">modulatecolor2
		<span>Changes brightness, saturation and/or hue for any primary or secondary 
		color in an image.</span></a></li>
	<li id="t_moments"><a href="../moments/index.php.html">moments
		<span>Computes shift, scale and rotation invariant image moments as well as 
		elliptical shape descriptors</span></a></li>
	<li id="t_morphology"><a href="../morphology/index.php.html">morphology
		<span>Performs binary or grayscale morphologic operations on an image, including 
		dilate, erode, open and close</span></a></li>
	<li id="t_mosaictiles"><a href="../mosaictiles/index.php.html">mosaictiles
		<span>Applies a mosaic tiles effect to image</span></a></li>
	<li id="t_mottle"><a href="../mottle/index.php.html">mottle
		<span>Applies various mottle effects to an image</span></a></li>
	<li id="t_multicrop"><a href="../multicrop/index.php.html">multicrop
		<span>Crops and unrotates multiple images from a scanned image</span></a></li>
	<li id="t_multicrop2"><a href="../multicrop2/index.php.html">multicrop2
		<span>Crops and unrotates multiple images from a scanned image</span></a></li>
	<li id="t_multigradient"><a href="../multigradient/index.php.html">multigradient
		<span>Creates either a linear or radial gradient image with two or more 
		color stops</span></a></li>
	<li id="t_nearestcolor"><a href="../nearestcolor/index.php.html">nearestcolor
		<span>Finds the nearest color value in an image to a reference color</span></a></li>
	<li id="t_neg2pos"><a href="../neg2pos/index.php.html">neg2pos
		<span>Converts from a (scanned film) negative image to a positive image</span></a></li>
	<li id="t_negative2positive"><a href="../negative2positive/index.php.html">negative2positive
		<span>Converts from a (scanned film) negative image to a positive image</span></a></li>
	<li id="t_nightvision"><a href="../nightvision/index.php.html">nightvision
		<span>Simulates a picture as viewed through night vision goggles</span></a></li>
	<li id="t_noisecleaner"><a href="../noisecleaner/index.php.html">noisecleaner
		<span>Iteratively cleans noise from an image</span></a></li>
	<li id="t_normcrosscorr"><a href="../normcrosscorr/index.php.html">normcrosscorr
		<span>Computes the normalized cross correlation surface to find where a small image 
		best matches within a larger image</span></a></li>
	<li id="t_notch"><a href="../notch/index.php.html">notch
		<span>Creates and applies a notch filter to an image in the frequency domain 
		to remove dither patterns and other regular noise patterns</span></a></li>
	<li id="t_omnistretch"><a href="../omnistretch/index.php.html">omnistretch
		<span>Enhances the dynamic range of brightness values and optionally saturation 
		values in an image</span></a></li>
	<li id="t_ortoneffect"><a href="../ortoneffect/index.php.html">ortoneffect
		<span>Applies an Orton effect to an image</span></a></li>
	<li id="t_otsuthresh"><a href="../otsuthresh/index.php.html">otsuthresh
		<span>Automatically thresholds an image to binary (b/w) format using 
		Otsu's between class variance technique</span></a></li>
	<li id="t_outfit"><a href="../outfit/index.php.html">outfit
		<span>Transforms a pattern image to place it over an image of some piece 
		of clothing or outfit</span></a></li>
	<li id="t_outfitwarper"><a href="../outfitwarper/index.php.html">outfitwarper
		<span>Transforms a pattern image to place it over an image of some piece 
		of clothing or outfit using a lighting file, a displacement map a mask and  
		arguments provided by the script outfit</span></a></li>
	<li id="t_overlapcrop"><a href="../overlapcrop/index.php.html">overlapcrop
		<span>Creates a sequence of cropped subsections permitting optional overlap 
		of the subsections</span></a></li>
	<li id="t_pagecurl"><a href="../pagecurl/index.php.html">pagecurl
		<span>Applies a pagecurl effect to the lower right corner of an image</span></a></li>
	<li id="t_pagepeel"><a href="../pagepeel/index.php.html">pagepeel
		<span>Applies a pagepeel effect to the lower right corner of an image</span></a></li>
	<li id="t_painteffect"><a href="../painteffect/index.php.html">painteffect
		<span>Applies a paint type effect to an image</span></a></li>
	<li id="t_pano2fisheye"><a href="../pano2fisheye/index.php.html">pano2fisheye
		<span>Transforms a spherical panorama to a fisheye view</span></a></li>
	<li id="t_pano2rect"><a href="../pano2rect/index.php.html">pano2rect
		<span>Applies vertical perspective correction to an angular 
		panoramic image</span></a></li>
	<li id="t_peelingpaint"><a href="../peelingpaint/index.php.html">peelingpaint
		<span>Applies a peeling paint effect to an image</span></a></li>
	<li id="t_perforations"><a href="../perforations/index.php.html">perforations
		<span>Applies film-like perforations to two opposite edges of an image</span></a></li>
	<li id="t_perlin"><a href="../perlin/index.php.html">perlin
		<span>Creates an image composed of Perlin type noise</span></a></li>
	<li id="t_phasecorr"><a href="../phasecorr/index.php.html">phasecorr
		<span>Computes the phase correlation surface to find where a small image best 
		matches within a larger image</span></a></li>
	<li id="t_phashcompare"><a href="../phashcompare/index.php.html">phashcompare
		<span>Compares two 168 digit phash strings to compute a phash metric</span></a></li>
	<li id="t_phashconvert"><a href="../phashconvert/index.php.html">phashconvert
		<span>Converts the 42 phash float values for an image to a string of 
		168 digits</span></a></li>
	<li id="t_phashes"><a href="../phashes/index.php.html">phashes
		<span>Computes and stores one or more perceptual hashes for all 
		provided images</span></a></li>
	<li id="t_picframe"><a href="../picframe/index.php.html">picframe
		<span>Adds a picture frame around an image</span></a></li>
	<li id="t_picturefold"><a href="../picturefold/index.php.html">picturefold
		<span>Applies a map-like folded appearance to an image</span></a></li>
	<li id="t_pinbarrel"><a href="../pinbarrel/index.php.html">pinbarrel
		<span>Applies or corrects pincushion and/or barrel lens distortion to an image</span></a></li>
	<li id="t_pip"><a href="../pip/index.php.html">pip
		<span>Creates a picture-in-picture effect</span></a></li>
	<li id="t_pixelize"><a href="../pixelize/index.php.html">pixelize
		<span>Creates a pixelized or blocky effect in an image</span></a></li>
	<li id="t_plm"><a href="../plm/index.php.html">plm
		<span>Generates a piece-wise linear mapping grayscale 
		look up table and applies it to an image</span></a></li>
	<li id="t_plmlut"><a href="../plmlut/index.php.html">plmlut
		<span>Generates a piece-wise linear mapping grayscale 
		look up table</span></a></li>
	<li id="t_plot"><a href="../plot/index.php.html">plot
		<span>Generates a profile of an image row or column or 
		an image histogram.</span></a></li>
	<li id="t_plot3D"><a href="../plot3D/index.php.html">plot3D
		<span>Generates a 3D plot of a single channel or grayscale image</span></a></li>
	<li id="t_polar"><a href="../polar/index.php.html">polar
		<span>Applies either a rectangular (cartesian) to polar transformation or 
		a polar to rectangular (cartesian) transformation on an image</span></a></li>
	<li id="t_polarblur"><a href="../polarblur/index.php.html">polarblur
		<span>Applies a polar blur to an image</span></a></li>
	<li id="t_polyring"><a href="../polyring/index.php.html">polyring
		<span>Creates a polygon ring image from one or more images</span></a></li>
	<li id="t_popart"><a href="../popart/index.php.html">popart
		<span>Creates a pop art style image</span></a></li>
	<li id="t_postagestamp"><a href="../postagestamp/index.php.html">postagestamp
		<span>Applies a perforated postage stamp like border around an image</span></a></li>
	<li id="t_posteredges"><a href="../posteredges/index.php.html">posteredges
		<span>Applies posterized edges to an image</span></a></li>
	<li id="t_profile"><a href="../profile/index.php.html">profile
		<span>Generates a profile of an image row or column</span></a></li>
	<li id="t_pseudocolor"><a href="../pseudocolor/index.php.html">pseudocolor
		<span>Generates a pseudocolored image or pseudocolored animation from grayscale 
		image using a rainbow colored transformation</span></a></li>
	<li id="t_ptilethresh"><a href="../ptilethresh/index.php.html">ptilethresh
		<span>Automatically thresholds an image to binary (b/w) format at a specified 
		percentile on the cumulative histogram</span></a></li>
	<li id="t_puzzle"><a href="../puzzle/index.php.html">puzzle
		<span>Applies a puzzle like effect to an image</span></a></li>
	<li id="t_radialgradient"><a href="../radialgradient/index.php.html">radialgradient
		<span>Creates a radial gradient image</span></a></li>
	<li id="t_radialgrid"><a href="../radialgrid/index.php.html">radialgrid
		<span>Superimposes circular grid lines on an image</span></a></li>
	<li id="t_randomblob"><a href="../randomblob/index.php.html">randomblob
		<span>Creates an image composed of a moderate sized black random blob shape 
		on a white background</span></a></li>
	<li id="t_randomclipart"><a href="../randomclipart/index.php.html">randomclipart
		<span>Randomly distributes clip art over the image</span></a></li>
	<li id="t_rangethresh"><a href="../rangethresh/index.php.html">rangethresh
		<span>Converts an image to binary using range values for each channel of the input</span></a></li>
	<li id="t_recursion"><a href="../recursion/index.php.html">recursion
		<span>Creates a recursive affine composite effect in an image</span></a></li>
	<li id="t_redeye"><a href="../redeye/index.php.html">redeye
		<span>Removes redeye from an image</span></a></li>
	<li id="t_redist"><a href="../redist/index.php.html">redist
		<span>Modifies an image so that its (grayscale) histogram has a 
		either Gaussian, distribution or a Uniform Distribution</span></a></li>
	<li id="t_reflect"><a href="../reflect/index.php.html">reflect
		<span>Splits an image, reflects each side and appends them to form horizontally 
		symmetric images</span></a></li>
	<li id="t_remap"><a href="../remap/index.php.html">remap
		<span>Remaps the colors in an image using a 3D color distance metric 
		relative to a color table map image</span></a></li>
	<li id="t_removecolorcast"><a href="../removecolorcast/index.php.html">removecolorcast
		<span>Removes a color cast from an image</span></a></li>
	<li id="t_replacecolor"><a href="../replacecolor/index.php.html">replacecolor
		<span>Changes one color to another color in an image</span></a></li>
	<li id="t_retinex"><a href="../retinex/index.php.html">retinex
		<span>Enhances detail and color in an image using the multiscale 
		retinex algorithm</span></a></li>
	<li id="t_rgbdots"><a href="../rgbdots/index.php.html">rgbdots
		<span>Transforms an image into dots in primary and secondary colors</span></a></li>
	<li id="t_ripples"><a href="../ripples/index.php.html">ripples
		<span>Applies various circular ripple effects to an image</span></a></li>
	<li id="t_rmsecorr"><a href="../rmsecorr/index.php.html">rmsecorr
		<span>Computes the root mean squared correlation surface to find where a small image 
		best matches within a larger image</span></a></li>
	<li id="t_rotate3D"><a href="../rotate3D/index.php.html">rotate3D
		<span>Applies a perspective distortion to an image by providing three 
		rotation angles and an optional perspective exaggeration</span></a></li>
	<li id="t_sahoothresh"><a href="../sahoothresh/index.php.html">sahoothresh
		<span>Automatically thresholds an image to binary (b/w) format using 
		Sahoo's entropy technique</span></a></li>
	<li id="t_saturation"><a href="../saturation/index.php.html">saturation
		<span>Changes the color saturation in an image</span></a></li>
	<li id="t_scalescroll"><a href="../scalescroll/index.php.html">scalescroll
		<span>Creates a scaled scrolling animation</span></a></li>
	<li id="t_scatter"><a href="../scatter/index.php.html">scatter
		<span>Generates a channel-by-channel scatter diagram between two images</span></a></li>
	<li id="t_scatterchannels"><a href="../scatterchannels/index.php.html">scatterchannels
		<span>Generates a scatter diagram between channels of an image</span></a></li>
	<li id="t_screeneffects"><a href="../screeneffects/index.php.html">screeneffects
		<span>Applies screen-like effects to an image</span></a></li>
	<li id="t_scriptbatch"><a href="../scriptbatch/index.php.html">scriptbatch
		<span>Runs another script over a folder of images</span></a></li>
	<li id="t_separate"><a href="../separate/index.php.html">separate
		<span>Identifies each separate white shape in a binary image</span></a></li>
	<li id="t_shadowhighlight"><a href="../shadowhighlight/index.php.html">shadowhighlight
		<span>Adjusts the tone in shadow and highlight areas of an image</span></a></li>
	<li id="t_shadows"><a href="../shadows/index.php.html">shadows
		<span>Applies drop shadows to an image that has an alpha channel</span></a></li>
	<li id="t_shapecluster"><a href="../shapecluster/index.php.html">shapecluster
		<span>Creates a division of the image into 5 separated rectangular regions</span></a></li>
	<li id="t_shapecompare"><a href="../shapecompare/index.php.html">shapecompare
		<span>Compares two images' shapes using metrics computed from Hu image moments</span></a></li>
	<li id="t_shapemorph"><a href="../shapemorph/index.php.html">shapemorph
		<span>Create a shape morphing animation sequence between two images</span></a></li>
	<li id="t_shapemorph2"><a href="../shapemorph2/index.php.html">shapemorph2
		<span>Create a shape morphing animation sequence between two images</span></a></li>
	<li id="t_sharp"><a href="../sharp/index.php.html">sharp
		<span>Adaptively sharpens an image or extract edges</span></a></li>
	<li id="t_sharpedge"><a href="../sharpedge/index.php.html">sharpedge
		<span>Adaptively sharpens (or blurs) an image near edges</span></a></li>
	<li id="t_shimmer"><a href="../shimmer/index.php.html">shimmer
		<span>Creates a reflected heat shimmering effect animation</span></a></li>
	<li id="t_shuffle"><a href="../shuffle/index.php.html">shuffle
		<span>Randomly shuffles positions of square sized tiles in an image</span></a></li>
	<li id="t_sigmoidal"><a href="../sigmoidal/index.php.html">sigmoidal
		<span>Applies a sigmoidal brightness and/or contrast adjustment to an image</span></a></li>
	<li id="t_similar"><a href="../similar/index.php.html">similar
		<span>Computes the normalized cross correlation similarity metric between 
		two equal dimensioned images</span></a></li>
	<li id="t_sinescrollimage"><a href="../sinescrollimage/index.php.html">sinescrollimage
		<span>Creates a sinusoidal curved scrolling image banner animation</span></a></li>
	<li id="t_sinescrolltext"><a href="../sinescrolltext/index.php.html">sinescrolltext
		<span>Creates a sinusoidal curved scrolling text banner animation</span></a></li>
	<li id="t_sketch"><a href="../sketch/index.php.html">sketch
		<span>Applies a sketch effect to an image</span></a></li>
	<li id="t_sketcher"><a href="../sketcher/index.php.html">sketcher
		<span>Applies a sketch effect to an image</span></a></li>
	<li id="t_sketchetch"><a href="../sketchetch/index.php.html">sketchetch
		<span>Creates an etch-like sketch from an image</span></a></li>
	<li id="t_sketching"><a href="../sketching/index.php.html">sketching
		<span>Applies a sketch effect to an image</span></a></li>
	<li id="t_skew"><a href="../skew/index.php.html">skew
		<span>Applies a skew distortion to an image</span></a></li>
	<li id="t_slantedlight"><a href="../slantedlight/index.php.html">slantedlight
		<span>Applies slanted lighting to an image</span></a></li>
	<li id="t_slice"><a href="../slice/index.php.html">slice
		<span>Thresholds an image (inclusively) between a range of graylevels 
		and optionally colorizes inside and/or outside the threshold range</span></a></li>
	<li id="t_smartcrop"><a href="../smartcrop/index.php.html">smartcrop
		<span>Automatically crops an image to a given size around the hightest 
		detail region</span></a></li>
	<li id="t_smarttrim"><a href="../smarttrim/index.php.html">smarttrim
		<span>Automatically trims an image around the region of highest detail 
		in the image</span></a></li>
	<li id="t_softfocus"><a href="../softfocus/index.php.html">softfocus
		<span>Applies a softfocus effect to an image</span></a></li>
	<li id="t_softlight"><a href="../softlight/index.php.html">softlight
		<span>Applies soft light to an image</span></a></li>
	<li id="t_space"><a href="../space/index.php.html">space
		<span>Applies a spatially adaptive contrast (and brightness) enhancement 
		filter to an image</span></a></li>
	<li id="t_space2"><a href="../space2/index.php.html">space2
		<span>Applies a spatially adaptive contrast (and brightness) enhancement 
		filter to an image</span></a></li>
	<li id="t_spectrum"><a href="../spectrum/index.php.html">spectrum
		<span>Computes the spectrum image from the magnitude of the Fourier Transform 
		of an image.</span></a></li>
	<li id="t_spectrumhist"><a href="../spectrumhist/index.php.html">spectrumhist
		<span>Creates either a color spectrum or histogram of the colors in an image.</span></a></li>
	<li id="t_sphere"><a href="../sphere/index.php.html">sphere
		<span>Creates a colored sphere with a combination of diffuse and specular illumination</span></a></li>
	<li id="t_sphericalpano2cube"><a href="../sphericalpano2cube/index.php.html">sphericalpano2cube
		<span>Transforms a spherical panorama into a cubical representation</span></a></li>
	<li id="t_sphericalpano2rect"><a href="../sphericalpano2rect/index.php.html">sphericalpano2rect
		<span>Generate a perspective (rectilinear) image from a region of a 
		spherical panorama image</span></a></li>
	<li id="t_spherize"><a href="../spherize/index.php.html">spherize
		<span>Warps an image onto a (hemi-)sphere</span></a></li>
	<li id="t_splice"><a href="../splice/index.php.html">splice
		<span>Applies a jagged cut and splice effect to an image</span></a></li>
	<li id="t_spline"><a href="../spline/index.php.html">spline
		<span>Draws a spline curve on an image based upon supplied points</span></a></li>
	<li id="t_splitcrop"><a href="../splitcrop/index.php.html">splitcrop
		<span>Crops an image into two or four sections according to the given 
		x,y coordinates</span></a></li>
	<li id="t_splitimage"><a href="../splitimage/index.php.html">splitimage
		<span>Generates a side-by-side append of two partial images with an option to 
		animate the amount of each image used in the append</span></a></li>
	<li id="t_splittone1"><a href="../splittone1/index.php.html">splittone1
		<span>Applies a color splittone effect to an image</span></a></li>
	<li id="t_splittone2"><a href="../splittone2/index.php.html">splittone2
		<span>Applies a color splittone effect to an image</span></a></li>
	<li id="t_splittone3"><a href="../splittone3/index.php.html">splittone3
		<span>Applies a color splittone effect to an image</span></a></li>
	<li id="t_spots"><a href="../spots/index.php.html">spots
		<span>Converts the image into a series or uniform-colored spots</span></a></li>
	<li id="t_squareup"><a href="../squareup/index.php.html">squareup
		<span>Resizes an image and squares it up either by padding or 
		cropping</span></a></li>
	<li id="t_ssim"><a href="../ssim/index.php.html">ssim
		<span>Computes the structural similarity metric between two equal 
		sized images.</span></a></li>
	<li id="t_starburst"><a href="../stainedglass/index.php.html">stainedglass
		<span>Applies a stained glass cell effect to an image</span></a></li>
	<li id="t_starburst"><a href="../starburst/index.php.html">starburst
		<span>Applies a starburst pattern to an image</span></a></li>
	<li id="t_statsfilt"><a href="../statsfilt/index.php.html">statsfilt
		<span>Computes various localized (neighborhood) statistical 
		filters on an image</span></a></li>
	<li id="t_statsfilt"><a href="../stdimage/index.php.html">stdimage
		<span>Computes a pixel-by-pixel standard deviation or variance image from 
		multiple input images</span></a></li>
	<li id="t_stretch"><a href="../stretch/index.php.html">stretch
		<span>Modifies an image to automatically stretch the dynamic range between 
		full black and white</span></a></li>
	<li id="t_striations"><a href="../striations/index.php.html">striations
		<span>Applies radial or circular striations to image</span></a></li>
	<li id="t_stutter"><a href="../stutter/index.php.html">stutter
		<span>Creates a 'stuttered' offset-like effect in an image</span></a></li>
	<li id="t_surroundblur"><a href="../surroundblur/index.php.html">surroundblur
		<span>Creates a blurred background region around the input image</span></a></li>
	<li id="t_textcleaner"><a href="../textcleaner/index.php.html">textcleaner
		<span>Processes a scanned document of text to clean the text background</span></a></li>
	<li id="t_textdeskew"><a href="../textdeskew/index.php.html">textdeskew
		<span>Unrotates (deskews) an image containing text</span></a></li>
	<li id="t_textdistort"><a href="../textdistort/index.php.html">textdistort
		<span>Distorts repeated text to warp it to the shape of the image content</span></a></li>
	<li id="t_texteffect"><a href="../texteffect/index.php.html">texteffect
		<span>Convert text to an image after applying various effects, styling 
		and color</span></a></li>
	<li id="t_texteffect2"><a href="../texteffect2/index.php.html">texteffect2
		<span>Converts large size text to an image with color, effects 
		and styling</span></a></li>
	<li id="t_textetch"><a href="../textetch/index.php.html">textetch
		<span>Adds text to an image to simulate etching on glass</span></a></li>
	<li id="t_texturize"><a href="../texturize/index.php.html">texturize
		<span>Creates a texture pattern and optionally applies it to the 
		background of an input image</span></a></li>
	<li id="t_thermography"><a href="../thermography/index.php.html">thermography
		<span>Simulates a picture taken with a thermal imaging camera</span></a></li>
	<li id="t_thresholds"><a href="../thresholds/index.php.html">thresholds
		<span>Applies one or two thresholds to an image</span></a></li>
	<li id="t_tileimage"><a href="../tileimage/index.php.html">tileimage
		<span>Tiles an image to a given size with various tile arrangements</span></a></li>
	<li id="t_tiler"><a href="../tiler/index.php.html">tiler
		<span>Converts an image into a tilable texture</span></a></li>
	<li id="t_tiltshift"><a href="../tiltshift/index.php.html">tiltshift
		<span>Applies a tiltshift effect to an image</span></a></li>
	<li id="t_tintilize"><a href="../tintilize/index.php.html">tintilize
		<span>Applies a color tint to the mid-range of a grayscale image</span></a></li>
	<li id="t_tinyplanet"><a href="../tinyplanet/index.php.html">tinyplanet
		<span>Transforms a spherical panorama to a linear fisheye view</span></a></li>
	<li id="t_tonemap1"><a href="../tonemap1/index.php.html">tonemap1
		<span>Enhances the shadows and/or highlight regions in an image using a 
			non-linear log or gamma function</span></a></li>
	<li id="t_tonemap2"><a href="../tonemap2/index.php.html">tonemap2
		<span>Enhances the shadows and/or highlight regions in an image using a 
			non-linear log or gamma function plus another extra processing 
			function</span></a></li>
	<li id="t_tonemap3"><a href="../tonemap3/index.php.html">tonemap3
		<span>Enhances the shadows and/or highlight regions in an image using a 
			non-linear log or gamma function plus another extra processing 
			function</span></a></li>
	<li id="t_tonemap4"><a href="index.php.html">tonemap4
		<span>Enhances the shadows and/or highlight regions in an image using a 
			dual gamma function plus an extra processing function</span></a></li>
	<li id="t_toon"><a href="../toon/index.php.html">toon
		<span>Applies a cartoon effect to an image</span></a></li>
	<li id="t_toonify"><a href="../toonify/index.php.html">toonify
		<span>Applies a cartoon effect to an image</span></a></li>
	<li id="t_toonizarro"><a href="../toonizarro/index.php.html">toonizarro
		<span>Applies a Superman Bizarro-like cartoon effect to an image</span></a></li>
	<li id="t_toycamera"><a href="../toycamera/index.php.html">toycamera
		<span>Simulates pictures taken by lomographic or holga type toy cameras</span></a></li>
	<li id="t_transfercolor"><a href="../transfercolor/index.php.html">transfercolor
		<span>Transfers the coloring from one image to another image</span></a></li>
	<li id="t_transitions"><a href="../transitions/index.php.html">transitions
		<span>Applies an animated transition between two images</span></a></li>
	<li id="t_trianglethresh"><a href="../trianglethresh/index.php.html">trianglethresh
		<span>Automatically thresholds an image to binary (b/w) format using the 
		triangle technique</span></a></li>
	<li id="t_tricolorize"><a href="../tricolorize/index.php.html">tricolorize
		<span>Smoothly colorizes a grayscale image with either one, two or three 
		different colors</span></a></li>
	<li id="t_trim2detail"><a href="../trim2detail/index.php.html">trim2detail
		<span>Trims an image to the bounding rectangle about the image's 
		main content</span></a></li>
	<li id="t_trim2rect"><a href="../trim2rect/index.php.html">trim2rect
		<span>Automatically trims the sides of an image until no outer row or column 
		contains the background color</span></a></li>
	<li id="t_trimcorners"><a href="../trimcorners/index.php.html">trimcorners
		<span>Automatically crops the image to removed rounded corners</span></a></li>
	<li id="t_trimmer"><a href="../trimmer/index.php.html">trimmer
		<span>Trims the background from any number of specified sides of 
		an image</span></a></li>
	<li id="t_tshirt"><a href="../tshirt/index.php.html">tshirt
		<span>Transforms an image to place it in a region of a tshirt image.</span></a></li>
	<li id="t_tshirtwarp"><a href="../tshirtwarp/index.php.html">tshirtwarp
		<span>Transforms an image to place it in a region of a tshirt image using a lighting file, 
		a displacement map and arguments provided by the script tshirt</span></a></li>
	<li id="t_tshirtwarper"><a href="../tshirtwarper/index.php.html">tshirtwarper
		<span>Transforms an image to place it in a region of a tshirt image using a lighting file, 
		a displacement map and arguments provided by the script tshirt</span></a></li>
	<li id="t_tunnelize"><a href="../tunnelize/index.php.html">tunnelize
		<span>Creates a tunnel-like effect on an image</span></a></li>
	<li id="t_turbulence"><a href="../turbulence/index.php.html">turbulence
		<span>Applies a turbulence-like warping of the image</span></a></li>
	<li id="t_turn"><a href="../turn/index.php.html">turn
		<span>Simultaneously rotates and crops an image to eliminate 
		any background</span></a></li>
	<li id="t_typewriter"><a href="../typewriter/index.php.html">typewriter
		<span>Creates a typewriter style scrolling text animation</span></a></li>
	<li id="t_unrotate"><a href="../unperspective/index.php.html">unperspective
		<span>Automatically removes pespective distortion from an image</span></a></li>
	<li id="t_unrotate"><a href="../unrotate/index.php.html">unrotate
		<span>Automatically unrotates a rotated image and trims the surrounding 
		border</span></a></li>
	<li id="t_unrotate2"><a href="../unrotate2/index.php.html">unrotate2
		<span>Automatically unrotates a rotated image and trims the surrounding 
		border</span></a></li>
	<li id="t_uwcorrect"><a href="../uwcorrect/index.php.html">uwcorrect
		<span>Corrects the color balance for red light attenuation in pictures taken 
		underwater</span></a></li>
	<li id="t_variableblur"><a href="../variableblur/index.php.html">variableblur
		<span>Applies a variable blur to an image based upon a mask image</span></a></li>
	<li id="t_vibrance"><a href="../vibrance/index.php.html">vibrance
		<span>Applies a non-linear change to the saturation of an image</span></a></li>
	<li id="t_vibrance2"><a href="../vibrance2/index.php.html">vibrance2
		<span>Applies a non-linear change to the chroma channel of an image</span></a></li>
	<li id="t_vibrance3"><a href="../vibrance3/index.php.html">vibrance3
		<span>Applies a non-linear change to the chroma channel of an image</span></a></li>
	<li id="t_videoglitch"><a href="../videoglitch/index.php.html">videoglitch
		<span>Applies a video glitch effect to an image</span></a></li>
	<li id="t_vignette"><a href="../vignette/index.php.html">vignette
		<span>Applies a vignette effect to a picture</span></a></li>
	<li id="t_vignette2"><a href="../vignette2/index.php.html">vignette2
		<span>Applies a vignette effect to a picture</span></a></li>
	<li id="t_vignette3"><a href="../vignette3/index.php.html">vignette3
		<span>Applies a vignette effect to a picture</span></a></li>
	<li id="t_vintage1"><a href="../vintage1/index.php.html">vintage1
		<span>Applies a classic blue-green vintage effect to an image</span></a></li>
	<li id="t_vintage2"><a href="../vintage2/index.php.html">vintage2
		<span>Applies a colorful vintage effect to an image</span></a></li>
	<li id="t_vintage3"><a href="../vintage3/index.php.html">vintage3
		<span>Applies an old, heritage style vintage effect to an image</span></a></li>
	<li id="t_warholeffect"><a href="../warholeffect/index.php.html">warholeffect
		<span>Creates an Andy Warhol style colorization image</span></a></li>
	<li id="t_watercolor"><a href="../watercolor/index.php.html">watercolor
		<span>Applies a watercolor effect to an image</span></a></li>
	<li id="t_whitebalance"><a href="../wavemap/index.php.html">wavemap
		<span>Transforms the graylevels in each RGB channel according to a 
		sinusoidal wave function</span></a></li>
	<li id="t_whitebalance"><a href="../whitebalance/index.php.html">whitebalance
		<span>Transform an image's overall color balance according to a desired change in a 
		specified white point color</span></a></li>
	<li id="t_whitebalancing"><a href="../whitebalancing/index.php.html">whitebalancing
		<span>Applies white balancing to an image according to a gray world method
		 in LAB colorspace</span></a></li>
	<li id="t_whiteboard"><a href="../whiteboard/index.php.html">whiteboard
		<span>Processes a picture of a whiteboard to clean up the background and correct 
		the perspective</span></a></li>
	<li id="t_wiggle"><a href="../wiggle/index.php.html">wiggle
		<span>Creates a sinusoidal wiggling animation</span></a></li>
	<li id="t_woodbrand"><a href="../woodbrand/index.php.html">woodbrand
		<span>Creates a branded effect in a wood grain image using a binary image 
		as the brand</span></a></li>
	<li id="t_woodcut"><a href="../woodcut/index.php.html">woodcut
		<span>Applies a woodcut effect to an image</span></a></li>
	<li id="t_woodgrain"><a href="../woodgrain/index.php.html">woodgrain
		<span>Simulates a woodgrain texture</span></a></li>
	<li id="t_xpand"><a href="../xpand/index.php.html">xpand
		<span>Applies a non-uniform outward stretch of the image in 
		one direction</span></a></li>
	<li id="t_xposure"><a href="../xposure/index.php.html">xposure
		<span>Changes the exposure level of an image by 
		photographic stops</span></a></li>
	<li id="t_xtract"><a href="../xtract/index.php.html">xtract
		<span>Uses Hough lines to extract and rectify a quadrilateral area 
		from an image</span></a></li>
	<li id="t_zerocrossing"><a href="../zerocrossing/index.php.html">zerocrossing
		<span>Applies a zero crossing edge detector to an image</span></a></li>
	<li id="t_zoomblur"><a href="../zoomblur/index.php.html">zoomblur
		<span>Applies a radial or zoom blur to an image</span></a></li>
	<li id="t_zoomrotatetext"><a href="../zoomrotatetext/index.php.html">zoomrotatetext
		<span>Creates a zoomed rotating text animation</span></a></li>
</ul>

<table border="0" cellspacing="0" cellpadding="5" align="center" width="90%">
	<tr>
		<td align="left" valign="middle">
			<ul>
				<b>Licensing:</b>
				<p align="left">Copyright &copy; Fred Weinhaus</p>
				<p align="left">My scripts are available <u>free of charge for non-commercial (non-profit) use, ONLY.</u></p>
				<p align="left"><b>For use of my scripts in commercial (for-profit) environments or non-free applications, please contact me 
					(Fred Weinhaus) for licensing arrangements. My email address is fmw at alink dot net.</b></p>
				<p align="left">If you: 1) redistribute, 2) incorporate any of these scripts into other free 
					applications or 3) reprogram them in another scripting language, then 
					<u>you must contact me for permission</u>, especially if the result 
					might be used in a commercial or for-profit environment.</p>
				<p align="left">Usage, whether stated or not in the script, is restricted to the above licensing arrangements. 
					It is also subject, in a subordinate manner, to the ImageMagick license, which can be found at:
					<a href="http://www.imagemagick.org/script/license.php" target="_blank">
					http://www.imagemagick.org/script/license.php</a></p>
				<p align="left" class="red">Please read the <u>Pointers For Use</u> on my home page to properly install and customize my scripts.</u></p>
				
			</ul>
		</td>
	</tr>
</table>

<h2 align="center">
TONEMAP4
</h2>

<br />

<table border="0" cellspacing="0" cellpadding="5" align="center" width="70%">
	<tr>
		<td align="left" valign="middle" class="larger">
		<p align="left">
		Enhances the shadows and/or highlight regions in an image using a 
		dual gamma function plus an extra processing function.
		</td>
	</tr>
</table>

<p align="center"><a href="../downloadcounter.php%3Fscriptname=tonemap4&amp;dirname=tonemap4" >Download Script</a></p>

<p align="center" class="smaller red">
last modified: December 16, 2018</p>

<br />
<br />

<table border="0" cellspacing="0" cellpadding="5" align="center" width="90%">
	<tr>
		<td align="center" valign="middle" class="fixedwidth">
		<p align="left">
		USAGE: tonemap4 [-m method] [-k kind] [-t threshold] [-b bri] [-c con] [-s sat] [-e edge] [-r ramp] [-b blur] [-s shadows] [-h highlights] [-w window] [-g gvals] [-l log] [-A] [-C] infile outfile<br />
		USAGE: tonemap4 [-help]
		</p>

		<p align="left">
		-m ... method ....... method of dual gamma processing; ramp (r) or <br />
		..................... adaptive (a); default=ramp<br />
		-k ... kind ......... kind of extra processing; none (n), equalize (e), <br />
		..................... gaussian (g), space (s), or retinex (r); <br />
		..................... default=retinex<br />
		-t ... thresh ....... threshold for separating shadow and highlight<br />
		..................... regions; integers between 0 and 100; default is <br />
		..................... the mean graylevel of the brightness channel<br />
		-b ... bri .......... brightness enhancement percent; integer between <br />
		..................... -100 and 100; default=0<br />
		-c ... con .......... contrast enhancement percent; integer between <br />
		..................... -100 and 100; default=0<br />
		-s ... sat .......... saturation enhancement factor; float&gt;0; <br />
		..................... default=0.6<br />
		-e ... edge ......... edge enhancement amount; float&gt;=0; <br />
		..................... default=0<br />
		-r ... ramp ......... ramp amount in pixels for method=ramp; integer&gt;=0;<br />
		..................... default=20<br />
		-B ... blur ......... blur amount for method=adaptive; float&gt;0; <br />
		..................... default=3<br />
		-S ... shadows ...... desired shadow brightness in range 0 to 100 used <br />
		..................... for autogamma processing; also can be used to <br />
		..................... increase/decrease brightness in shadows;<br />
		..................... default=50<br />
		-H ... highlights ... desired highlight brightness in range 0 to 100 used <br />
		..................... for autogamma processing; also can be used to <br />
		..................... increase/decrease brightness in highlights; <br />
		..................... default=70<br />
		..................... positive or negative integer; default=0<br />
		-w ... window ....... window size as percent of image dimensions for <br />
		..................... kind=space; float&gt;0; default=12.5<br />
		-g ... gvals ........ gaussian redistribution mean,lo,hi values for <br />
		..................... kind=gaussian; integers>0; default=60,60,60<br />
		-l ... log .......... amount of scaling for log preprocessing expressed as <br />
		..................... exponent for power of 10; default=0 (none)<br />
		-A .................. preprocessing to apply autolevel stretch; default is<br />
		..................... not to apply autolevel stretch<br />
		-C ... colorproc .... preprocessing to change colorspace to: RGB, sRGB;
		..................... default is no change
		</p>

		<p align="left">
		PURPOSE: Enhances the shadows and/or highlight regions in an image using a 
		dual gamma function plus an extra processing function.
		</p>

		<p align="left">
		DESCRIPTION: TONEMAP4 the shadows and/or highlight regions in an image 
		using a dual gamma function plus an extra processing function, which can 
		be either: none, equalize (histogram equalization), gaussian (histogram 
		redistribution), retinex (multiscale method) or space (spatially adaptive 
		contrast enhancement). The image is first converted to HSB colorspace. 
		Then the channels are separated. The brightness channel is then 
		thresholded to separate the shadow and highlight regions. The thresholded 
		image is used as a mask against the brightness image to find the mean 
		values in the two regions. These mean values are then used to compute 
		appropriate gamma values, which are then applied separately to the 
		brightness channel. These two modified brightness images are merged 
		either by a ramped blending or by an adaptive blending based upon 
		the local variances in the two modified brightness images. The resulting 
		megerd brightness image is then combined with the hue and (optionally 
		enhanced) saturation channels. Finally the resulting image is converted 
		back to RGB.
		</p>

		<p align="left">
		ARGUMENTS: 
		</p>

		<p align="left">
		-m method ... METHOD of dual gamma processing; ramp (r) or adaptive (a). 
		The default=ramp.
		</p>

		<p align="left">
		-k kind ... KIND of extra processing. The choices are: none (n), equalize (e), 
		gaussian (g), retinex (r) or space (s). Equalize is a histogram equalization. 
		Gaussian is gaussian histogram redistribution. Retinex is multiscale 
		enhancement. Space is a spatially adaptive contrast enhancement. Generally, 
		retinex and none work the best, but for certain images, one or more of the 
		other approaches may also work as well or better. The default=retinex.
		</p>

		<p align="left">
		-t threshold ... THRESHOLD for separating shadow and highlight regions. 
		Values are integers between 0 and 100. The default is the mean graylevel 
		of the brightness channel.
		</p>

		<p align="left">
		-b bri ... BRIGHTNESS enhancement percent. Values are integers between 
		-100 and 100. The default=0
		</p>

		<p align="left">
		-c con ... CONTRAST enhancement percent. Values are integers between 
		-100 and 100. The default=0
		</p>

		<p align="left">
		-s sat ... SATURATION enhancement factor. Values are floats&gt;0. A value 
		of sat=1 is no change. The default=0.6
		</p>

		<p align="left">
		-e edge ... EDGE enhancement amount. Values are floats&gt;=0. The default=0
		</p>

		<p align="left">
		-r ramp ... RAMP amount in pixels for method=ramp. Values are integers&gt;=0;
		The default=0
		</p>

		<p align="left">
		-B blur ... BLUR amount for method=adaptive. Values are floats&gt;0. The 
		default=0
		</p>

		<p align="left">
		-S shadows ... desired SHADOW brightness in the range 0 to 100, which is
		used for autogamma processing. It can also can be used to increase or 
		decrease brightness in shadows, though generally it does not need to 
		be adjusted. The default=50
		</p>

		<p align="left">
		-H highlights ... desired HIGHLIGHT brightness in the range 0 to 100,  
		which is used for autogamma processing. It can also can be used to  
		increase or decrease brightness in shadows, though generally it does 
		not need to be adjusted. The default=50
		</p>

		<p align="left">
		-w window ... WINDOW is the moving window percentage of image size for 
		kind=space. Values are floats&gt;0 and are nominally between 5 and 20. 
		Larger or smaller values can mitigate ringing. Larger values narrow 
		ringing and smaller values broaden or diffues ringing. The default=12.5
		</p>

		<p align="left">
		-g gvals ... GVALS are the gaussian redistribution mean,lo,hi values 
		for kind=gaussian. Values are comma separated integers&gt;0. The 
		default=60,60,60.
		</p>

		<p align="left">
		-l log ... LOG is the amount of scaling for log preprocessing expressed 
		as exponent for power of 10. Generally this will only be needed for HDR 
		images with very high dynamic range that require log processing in IM 
		HDRI mode. The default=0 (no log processing).
		</p>

		<p align="left">
		-A ... Optional AUTOLEVEL preprocessing step. Generally this will only be 
		needed for HDR images with very high dynamic range that require log processing 
		in IM HDRI mode.
		</p>

		<p align="left">
		-C colorproc ... COLORPROC is an optional preprocessing step to convert 
		the input image from some other colorspace to either RGB or sRGB. This 
		seems to be needed for HDR Radiance images in XYZ colorspace (.hdr suffix) 
		prior to a bug fix in .hdr images in IM 6.7.2.0. The choices are: RGB 
		and sRGB. The default is no change. Note that somewhere between IM 6.7.5.5 
		and IM 6.7.6.7, colorspace RGB and sRGB were swapped to correct their meaning.
		</p>

		<p align="left">
		REQUIREMENTS: redist, space and retinex scripts. Also IM 6.5.9-0 to support 
		the -brightness-contrast function.
		</p>

		<p align="left">
		NOTE: kind=space will be slow due to the use of -fx when not in HDRI mode. 
		</p>

		<p align="left" class="red">
		Note: For IM 6.7.5.5 or higher, in order to reproduce some of the examples 
		below, one may have to add, remove or change -C arguments, due to the 
		swap of the meaning of -colorspace RGB and -colorspace sRGB. Also if -c is
		not none for .hdr images, then some parameter changes may be needed. For more 
		details, see 
		<a href="tonemap_tests.txt" 
		target="blank">http://www.fmwconcepts.com/imagemagick/tonemap4/tonemap_tests.txt</a>
		</p>

		<p align="left">
		Reference for adaptive method: <br />
		<a href="http://www.ieice.org/proceedings/ITC-CSCC2008/pdf/p457_A4-3.pdf" 
		target="_blank">http://www.ieice.org/proceedings/ITC-CSCC2008/pdf/p457_A4-3.pdf</a>
		</p>

		<p align="left">
		CAVEAT: No guarantee that this script will work on all platforms, 
		nor that trapping of inconsistent parameters is complete and 
		foolproof. Use At Your Own Risk. 
		</p>

		</td>
	</tr>
</table>

<br />

<h3 align="center">EXAMPLES</h3>

<p align="center">(Processed With Q16 HDRI IM 6.7.2.x Compile)</p>
<br />

	<table border="1" cellspacing="0" cellpadding="5" align="center">
	<tr>
		<td align="center" valign="middle" colspan=2>
		<p align="center">
		Example 1
		</p>
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle" colspan=2>
		<p align="center">
		Original Displayed As JPEG<br />
		(<a href="http://www.fmwconcepts.com/imagemagick/tonemap4/images/cascata_praia_da_ursa_small.exr&quot;" 
		target="_blank">Actual EXR Image Used</a>)<br />
		(<a href="http://rnbc.dyndns.org/exr_examples/" 
		target="_blank">source image web site</a>)
		</p>
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle" colspan=2>
		<img src="images/cascata_praia_da_ursa_small.jpg" width="333" height="500" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k none -b 10 -e 2
		</p>
		</td>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k none -b 10 -e 2
		</p>
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<img src="images/cascata_praia_da_ursa_small_tonemap4_ramp_none_b10_e2.jpg" width="333" height="500" hspace="0" vspace="0" border="0">
		</td>
		<td align="center" valign="middle">
		<img src="images/cascata_praia_da_ursa_small_tonemap4_adaptive_b10_e2_S50_H70.jpg" width="333" height="500" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k retinex -b 5
		</p>
		</td>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k retinex -b 5
		</p>
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<img src="images/cascata_praia_da_ursa_small_tonemap4_ramp_retinex_b5.jpg" width="333" height="500" hspace="0" vspace="0" border="0">
		</td>
		<td align="center" valign="middle">
		<img src="images/cascata_praia_da_ursa_small_tonemap4_adaptive_retinex_b5.jpg" width="333" height="500" hspace="0" vspace="0" border="0">
		</td>
	</tr>
</table>

<br />
<br />


<table border="1" cellspacing="0" cellpadding="5" align="center">
	<tr>
		<td align="center" valign="middle" colspan=2>
		<p align="center">
		Example 2
		</p>
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Original Displayed As JPEG<br />
		(<a href="images/sala_com_janela_small.exr.html" 
		target="_blank">Actual EXR Image Used</a>)<br />
		(<a href="http://rnbc.dyndns.org/exr_examples/" 
		target="_blank">source image web site</a>)
		</td>
		</p>
		<td align="center" valign="middle">
		<img src="images/sala_com_janela_small.jpg" width="500" height="333" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k none -b 5 -c -5 -e 2
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/sala_com_janela_small_tonemap4_ramp_none_b5_cm5_e2.jpg" width="500" height="333" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k none -b 8 -c -10 -e 2
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/sala_com_janela_small_tonemap4_adaptive_none_b8_cm10_e2.jpg" width="500" height="333" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k retinex -b 10 -c -5
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/sala_com_janela_small_tonemap4_ramp_retinex_b10_cm5.jpg" width="500" height="333" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k retinex -b 15 -c -5
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/sala_com_janela_small_tonemap4_adaptive_retinex_b15_cm5.jpg" width="500" height="333" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k space -b 10 -e 3 -w 5
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/sala_com_janela_small_tonemap4_ramp_space_b10_e3_w5.jpg" width="500" height="333" hspace="0" vspace="0" border="0">
		</td>
	</tr>
</table>

<br />
<br />

<table border="1" cellspacing="0" cellpadding="5" align="center">
	<tr>
		<td align="center" valign="middle" colspan=2>
		<p align="center">
		Example 3 -- variation in type -- OHTA vs YUV
		</p>
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Original Displayed As JPEG<br />
		(<a href="images/zona_zen_vodafone_small.exr.html" 
		target="_blank">Actual EXR Image Used</a>)<br />
		(<a href="http://rnbc.dyndns.org/exr_examples/" 
		target="_blank">source image web site</a>)
		</td>
		</p>
		<td align="center" valign="middle">
		<img src="images/zona_zen_vodafone_small.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k none -b 10 -e 2
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/zona_zen_vodafone_small_tonemap4_ramp_none_b10_e2.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k none -b10 -e 2 -B 5
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/zona_zen_vodafone_small_tonemap4_adaptive_none_b10_e2_B5.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k retinex -b 15
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/zona_zen_vodafone_small_tonemap4_ramp_retinex_b15.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k retinex -b 15 -B 5
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/zona_zen_vodafone_small_tonemap4_adaptive_retinex_b15_B5.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp - k space -b 10 -w 40
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/zona_zen_vodafone_small_tonemap4_ramp_space_b10_w40.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k space -b 10 -B 5 -w 40
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/zona_zen_vodafone_small_tonemap4_adaptive_space_b10_B5_w40.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
</table>

<br />
<br />

<table border="1" cellspacing="0" cellpadding="5" align="center">
	<tr>
		<td align="center" valign="middle" colspan=2>
		<p align="center">
		Example 4
		</p>
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Original Displayed As JPEG<br />
		(<a href="images/doll_small.exr.html" 
		target="_blank">Actual EXR Image Used</a>)<br />
		(<a href="http://www.mit.edu/~yzli/hdr_companding.htm" 
		target="_blank">source image web site</a>)
		</td>
		</p>
		<td align="center" valign="middle">
		<img src="images/doll_small.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k none -b 10 -c 10 -e 2
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_ramp_none_b10_c10_e2.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k none -b 10 -c 10 -e 2
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_adaptive_none_b10_c10_e2.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k retinex -b 20 
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_ramp_retinex_b20.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k retinex -b 20
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_adaptive_retinex_b20.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k space -b 10 -c 20 -w 40
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_ramp_space_b10_c20_w40.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k space -b 10 -c 20 -w 40
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_adaptive_space_b10_c20_w40.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k equalize
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_ramp_equalize.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k equalize
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_adaptive_equalize.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k gaussian -g 60,120,120
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_ramp_gaussian_g60x120x120.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k gaussian -g 60,120,120
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/doll_small_tonemap4_adaptive_gaussian_60x120x120.jpg" width="500" height="489" hspace="0" vspace="0" border="0">
		</td>
	</tr>
</table>

<br />
<br />

<table border="1" cellspacing="0" cellpadding="5" align="center">
	<tr>
		<td align="center" valign="middle" colspan=2>
		<p align="center">
		Example 5
		</p>
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Original Displayed As JPEG<br />
		(<a href="images/IMG_3133And8more_640x480.hdr.html" 
		target="_blank">Actual HDR Image Used</a>)<br />
		(<a href="http://www.imagemagick.org/discourse-server/viewtopic.php?f=22&t=18740&start=15#p72572" 
		target="_blank">source image web site</a>)
		</td>
		</p>
		<td align="center" valign="middle">
		<img src="images/IMG_3133And8more_640x480.jpg" width="640" height="480" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k none -b 5 -e 3 -l 3 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/IMG_3133And8more_640x480_tonemap4_ramp_none_ayes_log3_b5_e3.jpg" width="640" height="480" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k none -b 10 -e 3 -l 3 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/IMG_3133And8more_640x480_tonemap4_adaptive_none_ayes_log3_b10_e3.jpg" width="640" height="480" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k retinex -b 10 -e 1 -l 3 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/IMG_3133And8more_640x480_tonemap4_ramp_retinex_ayes_log3_b10_e1.jpg" width="640" height="480" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k retinex -b 10 -e 1 -l 3 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/IMG_3133And8more_640x480_tonemap4_adaptive_retinex_ayes_log3_b10_e1.jpg" width="640" height="480" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k space -e 1 -l 3 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/IMG_3133And8more_640x480_tonemap4_ramp_space_ayes_log3_b0_e1.jpg" width="640" height="480" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k space -b 5 -e 1 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/IMG_3133And8more_640x480_tonemap4_adaptive_space_ayes_log4_s0p9_b5_e1.jpg" width="640" height="480" hspace="0" vspace="0" border="0">
		</td>
	</tr>
</table>

<br />
<br />


<table border="1" cellspacing="0" cellpadding="5" align="center">
	<tr>
		<td align="center" valign="middle" colspan=2>
		<p align="center">
		Example 6
		</p>
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Original Displayed As JPEG<br />
		(<a href="images/lampickaHDR_small.hdr.html" 
		target="_blank">Actual HDR Image Used</a>)<br />
		(<a href="http://dcgi.felk.cvut.cz/home/cadikm/tmo/hdr_images/" 
		target="_blank">source image web site</a>)<br />
		(NOTE: Processed after .hdr bug fix at IM 6.7.2.0)
		</td>
		</p>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k none -c 30 -e 3 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_ramp_none_ayes_log4_c30_e3.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k none -c 30 -e 3 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_adaptive_none_ayes_log4_c30_e3.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k retinex b 10 -c 30 -e 3 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_ramp_retinex_ayes_log4_b10_c30_e3.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k retinex b 10 -c 30 -e 3 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_adaptive_retinex_ayes_log4_b10_c30_e3.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k space b 10 -c 10 -e 3 w 2 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_ramp_space_ayes_log4_b10_c10_e3_w2.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k space b 10 -c 10 -e 3 w 2 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_adaptive_space_ayes_log4_b10_c10_e3_w2.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k equalize b 10 -c -20 -e 3 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_ramp_equalize_ayes_log4_b10_cm20_e3.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k equalize b 10 -c -20 -e 3 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_adaptive_equalize_ayes_log4_b10_cm20_e3.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m ramp -k gaussian b 10 -c -20 -e 3 -g 60,120,120 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_ramp_gaussian_ayes_log4_b10_cm20_e3_g60x120x120.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
	<tr>
		<td align="center" valign="middle">
		<p align="center">
		Arguments:<br />
		-m adaptive -k gaussian b 10 -c -20 -e 3 -g 60,120,120 -l 4 -A
		</p>
		</td>
		<td align="center" valign="middle">
		<img src="images/lampickaHDR_small_tonemap4_adaptive_gaussian_ayes_log4_b10_cm20_e3_g60x120x120.jpg" width="500" height="375" hspace="0" vspace="0" border="0">
		</td>
	</tr>
</table>

<br />
<br />

<table border="1" cellspacing="0" cellpadding="5" align="center">
	<tr>
		<td align="left" valign="middle" colspan=3>
		<p align="center">
		What the script does is as follows for method=ramp:
		</p>
		<p align="left">
		<ul>
			<li>Processes the image with optional log enhancement, <br />
				converts to the HSB colorspace and separates channels</li>
			<li>Thresholds the brightness channel and ramps it as a mask image</li>
			<li>Applies the the mask image and its complement to the brightness channel <br />
				and computes the means of each, which are then used to compute gamma <br />
				values for the shadow and highlight regions</li>
			<li>Applies the gamma values to the shadow and highlight images and then 
				blends them using the mask</li>
			<li>Combines the processed brightness image with hue and enhanced saturation <br />
				channels and converts back to RGB.
		</ul>
		</p>
		<p align="center">		
		This is equivalent to the following IM commands for method=ramp:
		</p>
		<p align="left">
		<ul>
			<li>if [ "$autolevel" = "yes" ]; then<br />
				alevel="-auto-level"<br />
			else<br />
				alevel=""<br />
			fi</li>
			<li>if [ "$log" != "0" ]; then<br />
				log=`convert xc: -format "%[fx:10^$log]" info:`<br />
				proc0="-evaluate log $log"<br />
			else<br />
				proc0=""<br />
			fi</li>
			<li>computeGammas()<br />
				{<br />
				img=$1<br />
				mask=$2<br />
				if [ "$sgamma" = "" -o "$hgamma" = "" ]; then<br />
					# get mean of mask<br />
					meanm=`convert $mask -format "%[fx:mean]" info:`<br />
					if [ "$sgamma" = "" -a "kind" != "highlights" ]; then<br />	
						# get mean of shadows<br />
						means=`convert $img \( $mask -negate \) \<br />
							-compose multiply -composite -format "%[fx:mean/(1-$meanm)]" info:`<br />
					fi<br />
					if [ "$hgamma" = "" -a "$kind" != "shadows" ]; then	<br />	
						# get mean of highlights<br />
						meanh=`convert $img $mask \<br />
							-compose multiply -composite -format "%[fx:mean/$meanm]" info:`<br />
					fi<br />
					# get gamma of shadows and hightlights<br />
					if [ "$sgamma" = "" -a "$kind" != "highlights" ]; then<br />
						sgamma=`convert xc: -format "%[fx:log($means)/log($shadows/100)]" info:`<br />
						tests=`convert xc: -format "%[fx:$sgamma<=0?1:0]" info:`<br />
						[ $tests -eq 1 ] && sgamma=`convert xc: -format "%[fx:log(255*$meanh)/log(255*$shadows/100)]" info:`<br />
					fi<br />
					if [ "$hgamma" = "" -a "$kind" != "shadows" ]; then	<br />
						hgamma=`convert xc: -format "%[fx:log($meanh)/log($highlights/100)]" info:`<br />
						testh=`convert xc: -format "%[fx:$hgamma<=0?1:0]" info:`<br />
						[ $testh -eq 1 ] && hgamma=`convert xc: -format "%[fx:log(255*$meanh)/log(255*$highlights/100)]" info:`<br />
					fi<br />
				fi<br />
				}</li>
			<li>convert -quiet -regard-warnings "$infile" -alpha off $cproc $alevel $proc0 +repage "$tmpA1"</li>
			<li>convert $tmpA1 -colorspace HSB -separate $tmpA1</li>
			<li>if [ "$thresh" = "" ]; then<br />
				thresh=`convert $tmpA1[2] -format "%[fx:100*mean]" info:`<br />
			fi</li>
				<li>ramping="-blur ${ramp}x65000"</li>
			<li>if [ "$kind" = "none" ]; then<br />
				tproc=""<br />
			elif [ "$kind" = "equalize" ]; then<br />
				tproc="convert $tmpA2 -equalize $tmpA2"<br />
			elif [ "$kind" = "space" ]; then<br />
				tproc="space -m 0 -w $window -g 5 $tmpA2 $tmpA2"<br />
			elif [ "$kind" = "retinex" ]; then<br />
				tproc="retinex $tmpA2 $tmpA2"<br />
			elif [ "$kind" = "gaussian" ]; then<br />
				tproc="redist $gvals $tmpA2 $tmpA2"<br />
			fi</li>
			<li>convert $tmpA1[2] -threshold ${thresh}% $ramping $tmpA2</li>
			<li>computeGammas $tmpA1[2] $tmpA2</li>
			<li>convert $tmpA1[2] -gamma $sgamma $tmpA3</li>
			<li>convert $tmpA1[2] -gamma $hgamma $tmpA4</li>
			<li>convert $tmpA3 $tmpA4 $tmpA2 -compose over -composite $tmpA2</li>
			<li>$tproc</li>
			<li>convert $tmpA1[0] \<br />
			\( $tmpA1[1] -evaluate multiply $sat \) \<br />
			\( $tmpA2 -brightness-contrast $bri,$con -sharpen 0x$edge \) \<br />
			-set colorspace HSB -combine -colorspace RGB \<br />
			$outfile</li>
		</ul>
		</p>
		</td>
	</tr>
</table>

<br />
<br />


</body>
</html>
